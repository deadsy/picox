//-----------------------------------------------------------------------------
/*

*/
//-----------------------------------------------------------------------------

#ifndef AUDIO_H
#define AUDIO_H

//-----------------------------------------------------------------------------

#include "./i2s/i2s.h"

//-----------------------------------------------------------------------------

#define ALIGN(x) __attribute__ ((aligned (x)))

//-----------------------------------------------------------------------------

// The size (in audio samples) of the buffer DMAed from memory to I2S.
#define AUDIO_DMA_BUFFER_SIZE (4 * AudioBufferSize)

struct audio_drv {
	struct i2s_drv i2s;
	int16_t buffer[AUDIO_DMA_BUFFER_SIZE] ALIGN(4);	// dma->i2s buffer
};

//-----------------------------------------------------------------------------
// api

struct audio_buffer_pool *audio_init_old(void);

int audio_init(struct audio_drv *audio);

//-----------------------------------------------------------------------------

#endif				// AUDIO_H

//-----------------------------------------------------------------------------
